import 'package:flutter/material.dart';

void main() {
  runApp(MyApp());
}

/// Constructor
/// CreateState
/// 1.InitState

/// 2.DidChangeDependencies - dependency change
/// build - setState
/// 3.didUpdateWidget - if Parent er configuration change

/// 4.deactive
/// 5.dispose

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: const CounterScreen(),
    ); // MaterialApp
  }
}

class CounterScreen extends StatefulWidget {
  const CounterScreen({super.key});

  @override
  State<StatefulWidget> createState() => CounterState();
}


//ui er onek jinish rebuid korar dorkar poray na ..
// karon prottek ta jinish rebuild kortay gelay cpu power consume baray ...
// tai "const:" use kori .. tailay ar 2nd bar rebuild hoy na


/// state  :
class CounterState extends State<CounterScreen> {
  int counter = 0;

  // 1  Widget ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡¶¨‡¶æ‡¶∞ ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶≤‡ßá ‡¶è‡¶á ‡¶Æ‡ßá‡¶•‡¶° ‡¶ï‡¶≤ ‡¶π‡ßü
  @override
  void initState() {
    print('init state');
    // Task when screen start
    //screen e asar por i ki show kortay hoibo ..
    // üëâ Screen ‡¶è ‡¶¢‡ßã‡¶ï‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∏‡¶æ‡¶•‡ßá‡¶á ‡¶Ø‡ßá‡¶∏‡¶¨ ‡¶ï‡¶æ‡¶ú ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞‡¶á ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá
    // ‡¶Ø‡ßá‡¶Æ‡¶®:
    // - API call
    // - Animation start
    // - Controller initialize
    // - Initial value set ‡¶ï‡¶∞‡¶æ

    super.initState();
  }

  // 2 initState() ‡¶è‡¶∞ ‡¶™‡¶∞‡ßá‡¶á ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡¶¨‡¶æ‡¶∞ ‡¶ï‡¶≤ ‡¶π‡ßü
  // ‡¶è‡¶¨‡¶Ç dependency (Theme, MediaQuery, Provider ‡¶á‡¶§‡ßç‡¶Ø‡¶æ‡¶¶‡¶ø) ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶π‡¶≤‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ï‡¶≤ ‡¶π‡ßü
  @override
  void didChangeDependencies() {
    print('Did change dependency');
    super.didChangeDependencies();

    // üëâ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá BuildContext ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá data ‡¶®‡ßá‡¶ì‡ßü‡¶æ ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶
    // ‡¶Ø‡ßá‡¶Æ‡¶®:
    // Theme.of(context)
    // MediaQuery.of(context)
    // Provider.of(context)

  }

  // 3 Parent widget rebuild ‡¶π‡¶≤‡ßá ‡¶è‡¶¨‡¶Ç ‡¶®‡¶§‡ßÅ‡¶® widget ‡¶Ü‡¶∏‡¶≤‡ßá ‡¶è‡¶á ‡¶Æ‡ßá‡¶•‡¶° ‡¶ï‡¶≤ ‡¶π‡ßü
  @override
  void didUpdateWidget(covariant CounterScreen oldWidget) {
    print('did update widget');
    super.didUpdateWidget(oldWidget);
    // üëâ ‡¶™‡ßÅ‡¶∞‡¶®‡ßã widget (oldWidget) ‡¶Ü‡¶∞ ‡¶®‡¶§‡ßÅ‡¶® widget ‡¶§‡ßÅ‡¶≤‡¶®‡¶æ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü
    // ‡¶Ø‡¶¶‡¶ø ‡¶ï‡ßã‡¶®‡ßã prop / value change ‡¶π‡ßü ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶∏‡ßá‡¶á ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü
  }


  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: const Text('Home'),
      ), // AppBar
      body: Center(
        child: Text(
          counter.toString(),
          style: const TextStyle(fontSize: 34,
              fontWeight: FontWeight.bold),
        ), // Text
      ), // Center
      floatingActionButton: FloatingActionButton(
        onPressed: () { // press korley ki hoibo ...
          counter = counter + 1;
          print(counter);
          setState(() {});//etar karon e number update hoccay..
        },
        child: const Icon(Icons.add),
      ), // FloatingActionButton // etao mul button hisabey kaz korey
    ); // Scaffold
  }

  //4  Widget tree ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶æ‡¶Æ‡ßü‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá remove ‡¶π‡¶≤‡ßá ‡¶ï‡¶≤ ‡¶π‡ßü
  @override
  void deactivate() {
    print('deactived');
    super.deactivate();
    // üëâ ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§ ‡¶ñ‡ßÅ‡¶¨ ‡¶ï‡¶Æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶π‡ßü
    // Widget ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ‡ßü move ‡¶π‡¶≤‡ßá ‡¶¨‡¶æ temporarily remove ‡¶π‡¶≤‡ßá ‡¶ï‡¶≤ ‡¶π‡ßü
  }

  //5 Widget permanently destroy ‡¶π‡¶≤‡ßá ‡¶è‡¶á ‡¶Æ‡ßá‡¶•‡¶° ‡¶ï‡¶≤ ‡¶π‡ßü
  @override
  void dispose() {
    print('dispose');
    super.dispose();

    // üëâ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶∏‡¶¨ resource clean up ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡ßü
    // ‡¶Ø‡ßá‡¶Æ‡¶®:
    // - Controller dispose
    // - Stream close
    // - Animation dispose
    // - Timer cancel
  }

}
